<div class="fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 px-4 py-6 backdrop-blur-sm">
  <div class="w-full max-w-2xl overflow-hidden rounded-3xl border border-slate-100 bg-white shadow-2xl">
    <div class="flex items-start justify-between gap-6 border-b border-slate-100 p-6">
      <div>
        <p class="text-xs font-semibold uppercase tracking-[0.3em] text-[#0066cc]">Guia inicial</p>
        <h2 class="mt-2 text-2xl font-semibold text-slate-900">{{ title }}</h2>
        <p *ngIf="subtitle" class="mt-2 text-sm text-slate-500">{{ subtitle }}</p>
      </div>
      <button
        type="button"
        class="flex h-9 w-9 items-center justify-center rounded-full border border-slate-200 text-slate-500 transition hover:border-slate-300 hover:text-slate-700"
        (click)="onClose()"
        aria-label="Cerrar"
      >
        <svg viewBox="0 0 24 24" class="h-4 w-4" fill="none" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 6l12 12M18 6l-12 12" />
        </svg>
      </button>
    </div>

    <div class="space-y-4 p-6">
      <div
        *ngFor="let step of steps; let idx = index"
        class="flex flex-col gap-4 rounded-2xl border border-slate-100 p-4 sm:flex-row sm:items-start"
      >
        <div
          class="flex h-10 w-10 items-center justify-center rounded-full border text-sm font-semibold"
          [ngClass]="{
            'border-emerald-200 bg-emerald-50 text-emerald-600': step.status === 'done',
            'border-blue-200 bg-blue-50 text-[#0066cc]': step.status === 'active',
            'border-slate-200 bg-white text-slate-400': step.status === 'pending'
          }"
        >
          <ng-container *ngIf="step.status === 'done'; else stepNumber">
            <svg viewBox="0 0 24 24" class="h-4 w-4" fill="none" stroke="currentColor" stroke-width="3">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 12l4 4L19 7" />
            </svg>
          </ng-container>
          <ng-template #stepNumber>{{ idx + 1 }}</ng-template>
        </div>

        <div class="flex-1">
          <p class="text-sm font-semibold text-slate-900">{{ step.title }}</p>
          <p class="mt-1 text-xs text-slate-500">{{ step.description }}</p>
        </div>

        <span
          *ngIf="step.status === 'active'"
          class="self-start rounded-full bg-blue-50 px-3 py-1 text-xs font-semibold text-[#0066cc]"
        >
          En curso
        </span>
      </div>
    </div>

    <div class="flex flex-col gap-3 border-t border-slate-100 p-6 sm:flex-row sm:justify-end">
      <button
        type="button"
        class="rounded-full border border-slate-200 px-5 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-300 hover:text-slate-800"
        (click)="onClose()"
      >
        {{ secondaryLabel }}
      </button>
      <button
        type="button"
        class="rounded-full bg-[#0066cc] px-5 py-2 text-sm font-semibold text-white transition hover:bg-[#0052a3]"
        (click)="onPrimary()"
      >
        {{ primaryLabel }}
      </button>
    </div>
  </div>
</div>
